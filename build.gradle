plugins {
    id 'java'
    id("com.github.johnrengelman.shadow") version ("7.0.0")
}

group 'me.third.right.youtubedl'
version '1.0'

repositories {
    maven { url 'https://jitpack.io' }
    mavenCentral()
}

sourceCompatibility = '17'
targetCompatibility = '17'
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

sourceSets {
    all {
        dependencies {
            implementation 'com.fasterxml.jackson.core:jackson-annotations:2.14.1'
            implementation 'com.fasterxml.jackson.core:jackson-databind:2.14.1'

            //Lombok
            compileOnly 'org.projectlombok:lombok:1.18.20'
            annotationProcessor 'org.projectlombok:lombok:1.18.20'
        }
    }
}

tasks.jar {
    manifest {
        attributes("Main-Class": "me.third.right.youtubedl.YTDL")
    }

    finalizedBy("shadowJar")
}